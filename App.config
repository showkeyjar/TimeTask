<?xml version="1.0" encoding="utf-8" ?>
<configuration>
    <configSections>
        <sectionGroup name="userSettings" type="System.Configuration.UserSettingsGroup, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" >
            <section name="TimeTask.Properties.Settings" type="System.Configuration.ClientSettingsSection, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" allowExeDefinition="MachineToLocalUser" requirePermission="false" />
        </sectionGroup>
    </configSections>
    <startup> 
        <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.7.2" />
    </startup>
    <appSettings>
		<add key="OpenAIApiKey" value="56e671a3357824fa1abea6df8e20e696.kreWntpK6LDGbAyR" />
		<add key="LlmProvider" value="zhipu" />
		<add key="LlmApiBaseUrl" value="https://open.bigmodel.cn/api/paas/v4/" />
		<!-- For OpenAI, empty means use library default. For other providers, this will be crucial. -->
		<add key="LlmModelName" value="glm-4-flash" />
		<add key="LlmRequestTimeoutSeconds" value="120" />
		<!-- 自动更新（优先使用 GitHub Releases） -->
		<add key="AutoUpdateEnabled" value="true" />
		<add key="AutoUpdateGithubOwner" value="YOUR_GITHUB_OWNER" />
		<add key="AutoUpdateGithubRepo" value="YOUR_GITHUB_REPO" />
		<!-- 可选：仅匹配包含该关键字的 zip 资产名称；留空则取第一个 zip -->
		<add key="AutoUpdateGithubAssetNameContains" value="" />
		<!-- true 时从 releases 列表中选最新（可含预发布）；false 时走 latest（仅稳定版） -->
		<add key="AutoUpdateGithubIncludePrerelease" value="false" />
		<!-- 可选兜底：若未配置 GitHub，可改用自定义 manifest -->
		<add key="AutoUpdateManifestUrl" value="YOUR_UPDATE_MANIFEST_URL" />
		<add key="AutoUpdateCheckTimeoutSeconds" value="10" />
		<add key="AutoUpdateDownloadTimeoutSeconds" value="300" />
		<!-- 语音模型自动下载配置 -->
		<add key="SpeechModelAutoDownload" value="true" />
		<add key="SpeechModelName" value="vosk-model-cn-0.22" />
		<!-- 可留空使用内置默认下载地址；或配置为你自己的模型 zip 地址 -->
		<add key="SpeechModelUrl" value="" />
		<!-- 默认 false：热词仅用于重排序，不强约束识别词表（可显著减少漏识别） -->
		<add key="VoiceUseStrictVoskGrammar" value="false" />
		<!-- System.Speech 回退时是否加载 hints grammar；默认关闭可避免部分中文引擎异常 -->
		<add key="VoiceSystemSpeechUseHints" value="false" />
		<!-- 语音识别提供方: funasr / hybrid -->
		<add key="VoiceAsrProvider" value="funasr" />
		<add key="FunAsrPythonExe" value="python" />
		<add key="FunAsrScriptPath" value="scripts\funasr_asr.py" />
		<add key="FunAsrModel" value="iic/SenseVoiceSmall" />
		<add key="FunAsrDevice" value="cpu" />
		<add key="FunAsrAutoBootstrap" value="true" />
		<add key="FunAsrBootstrapTimeoutSeconds" value="900" />
		<!-- FunASR 建议 Python 3.10/3.11/3.12；默认不使用 3.13+ -->
		<add key="FunAsrMaxPythonMinor" value="12" />
		<!-- 若当前 Python 不兼容，自动用 Conda 创建兼容 Python 环境 -->
		<add key="FunAsrAutoProvisionCondaPython" value="true" />
		<add key="FunAsrCondaPythonVersion" value="3.11" />
		<!-- 可选：手动指定 conda.exe 全路径 -->
		<add key="FunAsrCondaExe" value="" />
		<add key="FunAsrPipPackages" value="funasr modelscope torch torchaudio" />
		<!-- 预置运行时优先：推荐将可用 Python 环境打包为 zip，运行时解压即用 -->
		<add key="FunAsrPreferPrebuiltRuntime" value="true" />
		<add key="FunAsrRuntimeBundlePath" value="data\funasr-runtime-bundle.zip" />
		<!-- 默认关闭在线安装回退，避免复杂自动步骤 -->
		<add key="FunAsrAllowOnlineInstallFallback" value="false" />
		<add key="FunAsrInstallUseNoDepsStrategy" value="true" />
		<add key="FunAsrInstallRetryCooldownMinutes" value="30" />
		<add key="FunAsrRetryPollSeconds" value="60" />
		<add key="FunAsrHealthCacheHours" value="72" />
		<add key="FunAsrBaseDependencies" value="modelscope torch torchaudio" />
		<add key="FunAsrTimeoutSeconds" value="60" />
		<add key="FunAsrUsePersistentWorker" value="true" />
		<add key="FunAsrWorkerStartupTimeoutSeconds" value="600" />
		<add key="FunAsrMinSegmentSeconds" value="0.5" />
		<!-- 语音草稿自动加入四象限 -->
		<add key="VoiceAutoAddToQuadrant" value="false" />
		<add key="VoiceAutoAddMinConfidence" value="0.65" />
		<!-- 使用 LLM 重新计算语音任务象限 -->
		<add key="VoiceUseLlmQuadrant" value="true" />
		<!-- 草稿需用户确认后才进入四象限 -->
		<add key="VoiceRequireConfirmation" value="true" />
		<!-- 从对话内容中提取代办事项 -->
		<add key="VoiceConversationExtractEnabled" value="true" />
		<add key="VoiceConversationWindowSeconds" value="45" />
		<add key="VoiceConversationMinTurns" value="3" />
		<!-- 语音VAD调优，降低首句漏检 -->
		<add key="VoiceVadMinStartMs" value="260" />
		<add key="VoiceVadHangoverMs" value="900" />
		<add key="VoiceEnergyThresholdDb" value="-30" />
		<!-- 声纹识别配置 -->
		<add key="VoiceSpeakerVerifyEnabled" value="true" />
		<add key="VoiceSpeakerEnrollMode" value="true" />
		<add key="VoiceSpeakerThreshold" value="0.72" />
		<add key="VoiceSpeakerMinSeconds" value="2.0" />
		<!-- 可选：模型 zip 的 SHA256（用于完整性校验） -->
		<add key="SpeechModelSha256" value="" />
		<!-- 主动协同控制 -->
		<add key="ProactiveAssistEnabled" value="true" />
		<add key="BehaviorLearningEnabled" value="true" />
		<add key="StuckNudgesEnabled" value="true" />
		<add key="LlmSkillAssistEnabled" value="true" />
		<!-- 低打断交互：尽量使用轻提示而不是阻塞式确认框 -->
		<add key="NonBlockingInteractionEnabled" value="true" />
		<add key="EnabledSkillIds" value="decompose,focus_sprint,priority_rebalance,risk_check,delegate_prepare,clarify_goal" />
		<!-- 安静时段（24小时制，跨天区间） -->
		<add key="QuietHoursStart" value="22" />
		<add key="QuietHoursEnd" value="8" />
		<!-- 策略层配置 -->
		<add key="StrategyCycleIntervalMinutes" value="30" />
		<!-- 1~7 对应 周一~周日 -->
		<add key="WeeklyReviewPublishDay" value="1" />
		<add key="StrategyTopFocusCount" value="5" />
		<add key="DecisionWeightLongTerm" value="0.45" />
		<add key="DecisionWeightUrgency" value="0.35" />
		<add key="DecisionWeightStrengthFit" value="1.0" />
		<add key="DecisionWeightEnergyFit" value="1.0" />
		<add key="DecisionWeightRiskPenalty" value="1.0" />
		<!-- 本地知识管理同步 -->
		<add key="KnowledgeSyncEnabled" value="true" />
		<add key="KnowledgeSyncIntervalMinutes" value="60" />
		<add key="ObsidianVaultPath" value="" />
		<add key="ObsidianIncludeSubfolders" value="true" />
		<add key="ObsidianMaxFilesPerSync" value="200" />
		<add key="KnowledgeRealtimeWatchEnabled" value="true" />
		<add key="KnowledgeSyncDebounceSeconds" value="8" />
		<add key="KnowledgeAutoImportEnabled" value="true" />
		<add key="KnowledgeAutoImportMinConfidence" value="0.90" />
		<add key="KnowledgeAutoImportMaxPerRun" value="6" />
		<add key="KnowledgeSmartNotifyEnabled" value="true" />
		<add key="KnowledgeRulesPath" value="configs\knowledge_rules.yaml" />
		<add key="KnowledgePromptTemplatePath" value="configs\task_extract_prompt.txt" />
		<add key="KnowledgeSyncStatePath" value="" />
		<add key="KnowledgeCaptureEnabled" value="true" />
		<add key="KnowledgeWritebackEnabled" value="true" />
		<add key="KnowledgeWritebackToSourceNote" value="true" />
		<add key="KnowledgeArtifactsPath" value="data\knowledge" />
		<add key="KnowledgeObsidianInboxNote" value="_TimeTask/Knowledge Inbox.md" />
    </appSettings>
    <userSettings>
        <TimeTask.Properties.Settings>
            <setting name="Top" serializeAs="String">
                <value>80</value>
            </setting>
            <setting name="Left" serializeAs="String">
                <value>640</value>
            </setting>
        </TimeTask.Properties.Settings>
    </userSettings>
</configuration>
