<Window x:Class="TimeTask.SkillManagementWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Skill 管理" Height="520" Width="760"
        WindowStartupLocation="CenterOwner">
    <Grid Margin="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <StackPanel Grid.Row="0" Margin="0,0,0,10">
            <TextBlock Text="管理大模型 Skills：可启用/停用技能，并查看最近30天触达与反馈。"
                       Foreground="#555"
                       TextWrapping="Wrap"/>
            <Border Background="#F7F7F7" CornerRadius="6" Padding="10" Margin="0,8,0,0" BorderBrush="#E0E0E0" BorderThickness="1">
                <TextBlock Foreground="#444" TextWrapping="Wrap">
                    <Run Text="使用方法："/>
                    <LineBreak/>
                    <Run Text="1. 勾选想启用的技能（会在任务提醒中给出“下一步建议”）。"/>
                    <LineBreak/>
                    <Run Text="2. 点击“保存”生效。"/>
                    <LineBreak/>
                    <Run Text="3. 当任务久未更新或触发智能提醒时，系统会提示这些技能。"/>
                    <LineBreak/>
                    <Run Text="小提示：如果不确定，先保持全选，再根据反馈调整。"/>
                </TextBlock>
            </Border>
            <Border x:Name="FirstTimeHintBanner"
                    Background="#FFF7E6"
                    CornerRadius="6"
                    Padding="8"
                    Margin="0,8,0,0"
                    BorderBrush="#FFD7A3"
                    BorderThickness="1"
                    Visibility="Collapsed">
                <TextBlock Foreground="#6B4E16" TextWrapping="Wrap"
                           Text="提示：技能会在任务提醒里给出“下一步行动”，建议先全选体验，再根据反馈调整。"/>
            </Border>
        </StackPanel>

        <DataGrid x:Name="SkillsDataGrid"
                  Grid.Row="1"
                  AutoGenerateColumns="False"
                  CanUserAddRows="False"
                  CanUserDeleteRows="False"
                  HeadersVisibility="Column"
                  SelectionMode="Extended"
                  SelectionUnit="FullRow">
            <DataGrid.Columns>
                <DataGridCheckBoxColumn Header="启用" Width="60" Binding="{Binding Enabled, Mode=TwoWay}"/>
                <DataGridTextColumn Header="Skill" Width="140" Binding="{Binding Title}"/>
                <DataGridTextColumn Header="说明" Width="*" Binding="{Binding Description}"/>
                <DataGridTextColumn Header="Shown(30d)" Width="90" Binding="{Binding Shown}"/>
                <DataGridTextColumn Header="Accepted" Width="80" Binding="{Binding Accepted}"/>
                <DataGridTextColumn Header="Deferred" Width="80" Binding="{Binding Deferred}"/>
                <DataGridTextColumn Header="Rejected" Width="80" Binding="{Binding Rejected}"/>
            </DataGrid.Columns>
        </DataGrid>

        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
            <Button Content="全选" Width="72" Height="32" Margin="0,0,8,0" Click="EnableAll_Click"/>
            <Button Content="全不选" Width="72" Height="32" Margin="0,0,8,0" Click="DisableAll_Click"/>
            <Button Content="导入" Width="72" Height="32" Margin="0,0,8,0" Click="Import_Click"/>
            <Button Content="导出" Width="72" Height="32" Margin="0,0,8,0" Click="Export_Click"/>
            <Button Content="保存" Width="72" Height="32" Margin="0,0,8,0" Click="Save_Click"/>
            <Button Content="关闭" Width="72" Height="32" Click="Close_Click"/>
        </StackPanel>
    </Grid>
</Window>
